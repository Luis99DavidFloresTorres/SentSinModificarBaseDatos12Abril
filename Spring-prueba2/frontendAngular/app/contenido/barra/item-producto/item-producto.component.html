
<h1 style="background-color: violet" fxLayoutAlign = "center center">
<span style="font-style: oblique;">Busqueda : {{valor}}</span>
</h1>

<div fxLayoutAlign= "center center" >
  <mat-form-field  color= "primary" fxFlex="30%">
    <input matInput id="input" placeholder="buscador" (keyup)="hacerFiltro($any($event.target).value)">
    <mat-icon fxFlex color="primary">search</mat-icon>

  </mat-form-field> &nbsp;&nbsp;
  <form [formGroup]="formCheckboxGroup">
    <mat-checkbox formControlName="check1" color="primary" (click)="productoValoradoContable()" style="color: black;">Producto Valorado</mat-checkbox> &nbsp;
    <button mat-raised-button color="primary" (click)="imprimirTodo()">Imprimir todo</button> &nbsp;
    <button mat-raised-button color="primary" (click)="imprimirBuscados()">Imprimir Buscados</button>
  </form>

</div>
<div>
<div fxFlex fxLayout="left" style="width: 100%; ">
  <div fxFlex fxLayout="column" fxLayoutGap="20%" id="divbotones">
    <button mat-raised-button [matMenuTriggerFor]="beforeMenuProveedores" color="primary">Fechas</button>
    <mat-menu #beforeMenuProveedores="matMenu" color="primary" class="menu">
      <button mat-menu-item (click)="mayorIngresos()" color="basic" class= "boton">Mayor Ingresos</button>
      <button mat-menu-item (click)="mayorSalidas()" class="boton" >Mayor Salidas</button>
      <button mat-menu-item (click)="productoPeriodo()" class="boton" >Producto Periodo</button>
      <button mat-menu-item (click)="kardexFecha()" class="boton" >Kardex</button>
    </mat-menu>
    <button mat-raised-button [matMenuTriggerFor]="FindByName" color="primary">Productos</button>
    <mat-menu #FindByName="matMenu"  color="primary" class="menu">
      <button mat-menu-item  color="basic" (click)="mayorIngresosNombre()" class= "boton">Mayor Ingresos</button>
      <button mat-menu-item (click)="mayorSalidasNombre()"  class="boton" >Mayor Salidas</button>
      <button mat-menu-item (click)="kardexNombre()" class="boton" >Kardex</button>
    </mat-menu>
    <button mat-raised-button [matMenuTriggerFor]="FindByNameDate" color="primary">Fechas y Productos</button>
    <mat-menu #FindByNameDate="matMenu" color="primary" class="menu">
      <button mat-menu-item (click)="mayorIngresosNombreFecha()" color="basic" class= "boton">Mayor Ingresos</button>
      <button mat-menu-item (click)="mayorSalidasNombreFecha()" class="boton" >Mayor Salidas</button>
      <button mat-menu-item (click)="kardexNombreFecha()" class="boton" >Kardex</button>
    </mat-menu>
    <button mat-raised-button [matMenuTriggerFor]="FindBetween2Dates" color="primary">Entre 2 fechas</button>
    <mat-menu #FindBetween2Dates="matMenu" color="primary" class="menu">
      <button mat-menu-item (click)="entre2fechas()" color="basic" class= "boton">Fechas</button>
    </mat-menu>
  </div>
</div>

<div  *ngIf="tabla" style="width:100%">
<mat-table [dataSource]="dataSource" class="mat-elevation-z8" matSort>
  <ng-container matColumnDef="id">
    <mat-header-cell  *matHeaderCellDef mat-sort-header>Id</mat-header-cell>
    <mat-cell *matCellDef="let element">  {{element.id}} </mat-cell>
  </ng-container>

  <ng-container matColumnDef="costo">
    <mat-header-cell  *matHeaderCellDef mat-sort-header>Costo</mat-header-cell>
    <mat-cell *matCellDef="let element">  {{element.costo}} </mat-cell>
  </ng-container>
  <ng-container matColumnDef="producto_id">
    <mat-header-cell  *matHeaderCellDef mat-sort-header>Producto Id</mat-header-cell>
    <mat-cell *matCellDef="let element">  {{element.producto_id}} </mat-cell>
  </ng-container>
  <ng-container matColumnDef="nombre">
    <mat-header-cell  *matHeaderCellDef mat-sort-header>Descripcion</mat-header-cell>
    <mat-cell *matCellDef="let element">  {{element.nombre}} </mat-cell>
  </ng-container>
  <ng-container matColumnDef="serial">
    <mat-header-cell  *matHeaderCellDef mat-sort-header>Serial</mat-header-cell>
    <mat-cell *matCellDef="let element">  {{element.serial}} </mat-cell>
  </ng-container>
  <ng-container matColumnDef="proveedorNombre">
    <mat-header-cell  *matHeaderCellDef mat-sort-header>Proveedor</mat-header-cell>
    <mat-cell *matCellDef="let element">  {{element.proveedorNombre}} </mat-cell>
  </ng-container>
  <ng-container matColumnDef="clienteNombre">
    <mat-header-cell  *matHeaderCellDef mat-sort-header>Cliente</mat-header-cell>
    <mat-cell *matCellDef="let element">  {{element.clienteNombre}} </mat-cell>
  </ng-container>
  <ng-container matColumnDef="ope">
    <mat-header-cell  *matHeaderCellDef mat-sort-header>Tipo transaccion</mat-header-cell>
    <mat-cell *matCellDef="let element">  {{element.ope|ope}} </mat-cell>
  </ng-container>
  <ng-container matColumnDef="nrodoc">
    <mat-header-cell  *matHeaderCellDef mat-sort-header>Numero Documento</mat-header-cell>
    <mat-cell *matCellDef="let element">  {{element.nrodoc}} </mat-cell>
  </ng-container>
  <ng-container matColumnDef="fechaact">
    <mat-header-cell  *matHeaderCellDef mat-sort-header>Fecha</mat-header-cell>
    <mat-cell *matCellDef="let element">  {{element.fechaact|date: 'dd/MM/yyyy'}} </mat-cell>
  </ng-container>
  <ng-container matColumnDef="observaciones">
    <mat-header-cell  *matHeaderCellDef mat-sort-header>Observaciones</mat-header-cell>
    <mat-cell *matCellDef="let element">  {{element.observaciones}} </mat-cell>
  </ng-container>
  <ng-container matColumnDef="codigo">
    <mat-header-cell  *matHeaderCellDef mat-sort-header>Codigo</mat-header-cell>
    <mat-cell *matCellDef="let element">  {{element.codigo}} </mat-cell>
  </ng-container>
  <ng-container matColumnDef="cantidad">
    <mat-header-cell  *matHeaderCellDef mat-sort-header>Cantidad</mat-header-cell>
    <mat-cell *matCellDef="let element">  {{element.cantidad}} </mat-cell>
  </ng-container>
  <ng-container matColumnDef="invinicial">
    <mat-header-cell  *matHeaderCellDef mat-sort-header>Saldo Inicial</mat-header-cell>
    <mat-cell *matCellDef="let element">  {{element.invinicial}} </mat-cell>
  </ng-container>
  <ng-container matColumnDef="saldo">
    <mat-header-cell  *matHeaderCellDef mat-sort-header>Saldo</mat-header-cell>
    <mat-cell *matCellDef="let element">  {{element.saldo}} </mat-cell>
  </ng-container>

  <ng-container matColumnDef="ingresos">
    <mat-header-cell  *matHeaderCellDef mat-sort-header>Ingresos</mat-header-cell>
    <mat-cell *matCellDef="let element">  {{element.ingresos}} </mat-cell>
  </ng-container>
  <ng-container matColumnDef="salidas">
    <mat-header-cell  *matHeaderCellDef mat-sort-header>Salidas</mat-header-cell>
    <mat-cell *matCellDef="let element">  {{element.salidas}} </mat-cell>
  </ng-container>

  <ng-container matColumnDef="unidad">
    <mat-header-cell  *matHeaderCellDef mat-sort-header>Unidad</mat-header-cell>
    <mat-cell *matCellDef="let element">  {{element.unidad}} </mat-cell>
  </ng-container>
  <ng-container matColumnDef="costoTotal">
    <mat-header-cell  *matHeaderCellDef mat-sort-header>Costo Total</mat-header-cell>
    <mat-cell *matCellDef="let element">  {{element.costoTotal}} </mat-cell>
  </ng-container>
  <ng-container matColumnDef="enlace">
    <mat-header-cell  *matHeaderCellDef mat-sort-header>Enlaces</mat-header-cell>
    <mat-cell *matCellDef="let element">
      <button mat-button (click) = "obtenerDatos(element.id)">mostrar</button>
      <button mat-button (click) = "eliminar(element._id)">eliminar</button>
    </mat-cell>
  </ng-container>
  <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
  <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
</mat-table>
<mat-paginator [length]="10" [pageSizeOptions]="[10,100,1000]">
</mat-paginator>

</div>
</div>
